$def with (page)
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evervolv
    $if page.title:
        | $page.title
    </title>
    <meta name="description" content="Evervolv" />
    <meta name="keywords" content="Evervolv,Android,AOSP,Jellybean">
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/static/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/static/res/css/fonts.css"/>
    <style type="text/css">
      html,
      body {
        font-family: 'Roboto', sans-serif;
        color: #fff;
        background-color: #1b1b1b;
        height: 100%;
      }
      a {
        color: #33B5E5;
      }
      a:hover,
      a:focus {
        color: #0099CC;
      }
      .evervolv {
        font-family: "Sony Sketch";
        font-size:1.5em;
      }
      .evervolv.right {
        font-size:1.3em;
      }
      .navbar-inverse .brand {
        font-size:1.8em;
        color: #33B5E5;
        font-family: "Sony Sketch";
      }
      /* Wrapper for page content to push down footer */
      #wrap {
        min-height: 100%;
        height: auto !important;
        height: 100%;
        /* Negative indent footer by it's height */
        margin: 0 auto -30px;
      }
      #wrap > .container-fluid {
        padding-top: 60px;
      }
      /* Set the fixed height of the footer */
      #push,
      #footer {
        height: 30px;
      }
      #footer {
        background-color: #1b1b1b;
        background-image: -moz-linear-gradient(top, #222222, #111111);
        background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#222222), to(#111111));
        background-image: -webkit-linear-gradient(top, #222222, #111111);
        background-image: -o-linear-gradient(top, #222222, #111111);
        background-image: linear-gradient(to bottom, #222222, #111111);
        background-repeat: repeat-x;
        border-color: #252525;
      }
      .rightFooter {
        margin-top: 4px;
        margin-bottom: 0;
        display:inline-block;
        float:right;
      }
      .leftFooter {
        margin-top: 4px;
        margin-bottom: 0;
        display:inline-block;
        float:left;
      }
      .leftFooter a {
        text-decoration:none
      }
      .leftFooter a:hover {
        color:white;
      }
      @media (max-width: 980px) {
        /* Enable use of floated navbar text */
        .navbar-text.pull-right {
          float: none;
          padding-left: 5px;
          padding-right: 5px;
        }
        #wrap > .container-fluid {
          padding-top: 0;
        }
      }
      @media (max-width: 767px) {
        #footer {
          margin-left: -20px;
          margin-right: -20px;
          padding-left: 20px;
          padding-right: 20px;
        }
      }
    </style>
    <link rel="stylesheet" type="text/css" href="/static/bootstrap/css/bootstrap-responsive.min.css"/>
    <link rel="shortcut icon" href="/static/res/img/ico/favicon.png">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-21396401-1']);
      _gaq.push(['_setDomainName', 'evervolv.com']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
   <div id="wrap">
    <!-- Navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="/">Evervolv</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li id="nav-devices">
                <a href="/devices/">Devices</a>
              </li>
              <li id="nav-features">
                <a href="/features/">Features</a>
              </li>
              <li id="nav-chat">
                <a href="/chat/">Chat</a>
              </li>
<!--              <li id="nav-news">-->
<!--                <a href="/news/">News</a>-->
<!--              </li>-->
              <li id="nav-source">
                <a href="/source/">Source Code</a>
              </li>
              <li id="nav-bugs">
                <a href="http://bugs.evervolv.com/" target="_blank">Bug Tracker</a>
              </li>
              <li id="nav-about">
                <a href="/about/">About</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <!--Content-->
    <div class="container-fluid">
        $:page
    </div>
    <div id="push"></div>
   </div> <!-- End Wrap -->
    <div id="footer">
      <div class="container-fluid">
        <p class="leftFooter"><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=PreludeDrew%40gmail%2ecom&lc=US&item_name=ROM%20Development&currency_code=USD&bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHosted" target="_blank">Donate<span class="hidden-phone"> to </span><span class="evervolv hidden-phone">Evervolv</span></a></p>
        <p class="rightFooter"><span class="hidden-phone">Built with <a href="//getbootstrap.com/" target="_blank">bootstrap</a> and <a href="//webpy.org/" target="_blank">web.py</a>&nbsp;&nbsp;</span>&copy;The <span class="evervolv">Evervolv</span> Project</p>
      </div>
    </div>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/static/res/js/jquery-1.9.1.min.js"><\/script>')</script>
    <script type="text/javascript" src="/static/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/res/js/js-url.min.js"></script>
    <script type="text/javascript">
    (function(){
        /* Highlight current page */
        page = url(1); page2 = url(2);
        if(page == 'devices' && page2 == '') {
            $$('li#nav-devices').addClass('active');
        } else if(page == 'features') {
            $$('li#nav-features').addClass('active');
        } else if(page == 'chat') {
            $$('li#nav-chat').addClass('active');
        } else if(page == 'news') {
            $$('li#nav-news').addClass('active');
        } else if(page == 'source') {
            $$('li#nav-source').addClass('active');
        } else if(page == 'about') {
            $$('li#nav-about').addClass('active');
        }
        /* activate device tooltips */
        $for d in devices():
            $$('#tooltip-$d').tooltip()
        /* scroll the carousel */
        $$('#home-carousel').carousel({interval:3000})
        $$('#home-caurosel').carousel()
    })(jQuery);
    /* populate the build modal with changelog */
    function writeChanges(changesFile){
        $$('.modal-body').html("<center>Loading...</center>")
        $$.get(changesFile, function(data) {
            /*replace sha's with link to gerrit*/
            var body=data.replace(/^((?!project)\w{7})\s/gm,"<a href='//review.evervolv.com/#/q/$$1,n,z' target='_blank' style='font-style:oblique;'>$$1</a>&nbsp;&nbsp;");
            body=body.replace(/^project/gm,"<strong>Project: </strong>");
            /*regex hack to only return the body and avoid applying
              the css in the changelog files to the current page*/
            body=body.replace(/\n/g," ");
            body=body.replace(/^.*?<body>(.*?)<\/body>.*?$$/m,"$$1");
            /*downsize all headers*/
            body=body.replace(/h(1|2|3)/g,"h4");
            $$('.modal-body').html(body);
            /*console.log(body);*/
        });
    }
    </script>
  </body>
</html>
